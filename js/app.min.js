!function(o,e){"use strict";angular.module("app",["jamfu"]).controller("AppController",["$scope","UtilityService",function(e,n){e.headline="Feckless Spork",e.icon="share-alt",e.model=[{id:0,children:[{id:1,children:[{id:11,children:[{id:111},{id:112}]},{id:12}]},{id:2,children:[{id:21},{id:22},{id:23,children:[{id:231},{id:232},{id:233}]},{id:24}]}]}],e.config={templateUrl:"sporklet.html"},e.doAddNode=function(o){o.children||(o.children=[]);var n=o.children.length+1;o.children.push({id:parseInt(""+o.id+n)}),e.toggleMenu()},e.doRemoveNode=function(o){var d=n.findDeep(e.model,o.id,!1,"remove");e.toggleMenu()},e.doEditNode=function(o){window.console.log("edit node",o.id,o)},e.toggleMenu=function(){e.showMenu=!e.showMenu},e.showMenu=!1,e.$on("spork:mouseenter",function(o){window.console.log("spork:mouseenter")}),e.$on("spork:mouseleave",function(o){window.console.log("spork:mouseleave"),e.showMenu=!1}),e.$on("spork:node:mouseenter",function(d,i){window.console.log("spork:node:mouseenter",i.id),e.node=i,e.showMenu=!0;var l=o.element("#node-"+i.id)[0],r=n.getNumbers(l),s=$(".spork-menu")[0];$(s).css({top:r.cy,left:r.r})}),e.$on("spork:node:click",function(o,n){window.console.log("spork:node:click",n.id),e.doAddNode(n)}),e.$on("spork:node:mouseleave",function(o,e){window.console.log("spork:node:mouseleave",e.id)})}])}(window.angular,window._);
!function(e,o){"use strict";angular.module("app",["jamfu"]).controller("AppController",["$scope","UtilityService",function(o,n){o.headline="Feckless Spork",o.icon="share-alt",o.model=[{id:0,label:"",type:"",line:"",children:[{id:1,label:"",type:"",line:"",children:[{id:11,label:"",type:"other",line:"remote",children:[{id:111,label:"",type:"",line:""},{id:112,label:"",type:"",line:""}]},{id:12,label:"",type:"",line:""}]},{id:2,label:"",type:"",line:"",children:[{id:21,label:"",type:"",line:""},{id:22,label:"",type:"",line:""},{id:23,label:"",type:"",line:"",children:[{id:231,label:"",type:"",line:""},{id:232,label:"",type:"",line:""},{id:233,label:"",type:"",line:""}]},{id:24,label:"",type:"",line:""}]}]}],o.config={templateUrl:"sporklet.html"},o.doAddNode=function(e){e.children||(e.children=[]);var n=e.children.length+1;e.children.push({id:parseInt(""+e.id+n)}),o.toggleMenu()},o.doRemoveNode=function(e){var l=n.findDeep(o.model,e.id,!1,"remove");o.toggleMenu()},o.doEditNode=function(e){window.console.log("edit node",e.id,e)},o.toggleMenu=function(){o.showMenu=!o.showMenu},o.showMenu=!1,o.$on("spork:mouseenter",function(e){window.console.log("spork:mouseenter")}),o.$on("spork:mouseleave",function(e){window.console.log("spork:mouseleave"),o.showMenu=!1}),o.$on("spork:node:mouseenter",function(l,i){window.console.log("spork:node:mouseenter",i.id),o.node=i,o.showMenu=!0;var d=e.element("#node-"+i.id)[0],t=n.getNumbers(d),r=$(".spork-menu")[0];$(r).css({top:t.cy,left:t.r})}),o.$on("spork:node:click",function(e,n){window.console.log("spork:node:click",n.id),o.doAddNode(n)}),o.$on("spork:node:mouseleave",function(e,o){window.console.log("spork:node:mouseleave",o.id)})}])}(window.angular,window._);
!function(e,n){"use strict";angular.module("app",["jamfu"]).controller("AppController",["$scope","UtilityService",function(n,d){n.headline="Feckless Spork",n.icon="share-alt",n.model=[{id:0,children:[{id:1,children:[{id:11,children:[{id:111},{id:112}]},{id:12}]},{id:2,children:[{id:21},{id:22},{id:23,children:[{id:231},{id:232},{id:233}]},{id:24}]}]}],n.config={templateUrl:"sporklet.html"},n.doAddNode=function(e){e.children||(e.children=[]);var d=e.children.length+1;e.children.push({id:parseInt(""+e.id+d)}),n.toggleMenu()},n.doRemoveNode=function(e){var i=d.findDeep(n.model,e.id,!1,"remove");n.toggleMenu()},n.doEditNode=function(e){window.console.log("edit",e.id,e)},n.toggleMenu=function(){n.showMenu=!n.showMenu},n.showMenu=!1,n.$on("spork:node:click",function(i,o){n.node=o,n.showMenu=!0;var l=e.element("#node-"+o.id)[0],r=d.getNumbers(l),t=$("#spork-menu")[0];$(t).css({top:r.cy,left:r.r})})}])}(window.angular,window._);
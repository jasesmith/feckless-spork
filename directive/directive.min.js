!function(i,d){"use strict";app.directive("spork",["UtilityService",function n(e){return{restrict:"E",replace:!0,scope:{config:"=?",model:"="},controller:["$scope",function l(n){var l=this;this.defaultConfig={},n.config=$.extend(!0,d.clone(l.defaultConfig),n.config),n.connector=function c(d,n){if(window.console.log(d,n),n!==!1){d=i.element("#node-"+d),n=i.element("#node-"+n);var l=e.getMetrics(d[0],n[0],!0);return{width:Math.round(l.lineLength)+"px",transform:"translateY(-50%) rotate("+Math.round(l.angleDegrees)+"deg)"}}},n.doClick=function(i,d){n.$emit("spork:node:click",{id:i,action:d})}}],template:'<div class="spork"><ul><li ng-repeat="a in model"><div id="node-{{a.id}}"><div class="node"><span class="label">{{a.id}}</span><div ng-click="doClick(a.id, \'add\')" class="node-action fa fa-plus-square"></div><div ng-click="doClick(a.id, \'remove\')" class="node-action fa fa-minus-square"></div></div><div class="line" ng-style="connector(a.id, false)"></div></div><ul ng-if="a.children.length"><li ng-repeat="b in a.children"><div id="node-{{b.id}}"><div class="node"><span class="label">{{b.id}}</span><div ng-click="doClick(b.id, \'add\')" class="node-action fa fa-plus-square"></div><div ng-click="doClick(b.id, \'remove\')" class="node-action fa fa-minus-square"></div></div><div class="line" ng-style="connector(b.id, a.id)"></div></div><ul ng-if="b.children.length"><li ng-repeat="c in b.children"><div id="node-{{c.id}}"><div class="node"><span class="label">{{c.id}}</span><div ng-click="doClick(c.id, \'add\')" class="node-action fa fa-plus-square"></div><div ng-click="doClick(c.id, \'remove\')" class="node-action fa fa-minus-square"></div></div><div class="line" ng-style="connector(c.id, b.id)"></div></div><ul ng-if="c.children.length"><li ng-repeat="d in c.children"><div id="node-{{d.id}}"><div class="node"><span class="label">{{d.id}}</span><div ng-click="doClick(d.id, \'add\')" class="node-action fa fa-plus-square"></div><div ng-click="doClick(d.id, \'remove\')" class="node-action fa fa-minus-square"></div></div><div class="line" ng-style="connector(d.id, c.id)"></div></div></li></ul></li></ul></li></ul></li></ul></div>',link:function c(i,d){}}}])}(window.angular,window._);
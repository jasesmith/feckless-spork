!function(n,i){"use strict";n.module("app").directive("spork",["$window",function e(d){var l=function(n){var i={};return n&&(i={t:n.getBoundingClientRect().top,r:n.getBoundingClientRect().right,b:n.getBoundingClientRect().bottom,l:n.getBoundingClientRect().left,w:n.clientWidth,h:n.clientHeight},i.cx=i.l+i.w/2,i.cy=i.t+i.h/2),i},t=function(n,i,e,d){e=e||!1,d=d||!1;var t=l(n),a=l(i),c={x:t.cx,y:t.cy},o={x:a.cx,y:a.cy},s=Math.atan2(o.y-c.y,o.x-c.x),r=180*s/Math.PI;e&&(r+=180);var g=Math.sqrt((c.x-=o.x)*c.x+(c.y-=o.y)*c.y);return d&&(g*=d),{lineLength:g,angleRadians:s,angleDegrees:r}};return{restrict:"E",replace:!0,scope:{config:"=?",model:"="},controller:["$scope",function a(e){var d=this;this.defaultConfig={},e.config=$.extend(!0,i.clone(d.defaultConfig),e.config),e.connector=function l(i,e){i=n.element("#node-"+i)[0],e=n.element("#node-"+e)[0];var d=t(i,e,!0);return{width:Math.round(d.lineLength)+"px",transform:"translateY(-50%) rotate("+Math.round(d.angleDegrees)+"deg)"}}}],template:'<div class="spork"><ul><li ng-repeat="a in model"><div id="node-{{a.id}}"><div class="node"><span class="label">{{a.id}}</span></div></div><ul ng-if="a.children.length"><li ng-repeat="b in a.children"><div id="node-{{b.id}}"><div class="node"><span class="label">{{b.id}}</span></div><div class="line" ng-style="connector(b.id, a.id)"></div></div><ul ng-if="b.children.length"><li ng-repeat="c in b.children"><div id="node-{{c.id}}"><div class="node"><span class="label">{{c.id}}</span></div><div class="line" ng-style="connector(c.id, b.id)"></div></div><ul ng-if="c.children.length"><li ng-repeat="d in c.children"><div id="node-{{d.id}}"><div class="node"><span class="label">{{d.id}}</span></div><div class="line" ng-style="connector(d.id, c.id)"></div></div></li></ul></li></ul></li></ul></li></ul></div>',link:function c(n,i){}}}])}(window.angular,window._);